<#assign prior><@getVal pou.@priority/></#assign>
;**************************************************************************
;* AUTEUR:       Dupond Fred                                              *
;* DATE:         19.11.99                                                 *
;* FICHIER:      logic.SRC                                                *
;**************************************************************************
;
;
            COB    ${prior}                   ;Begin of cyclic program
                   ${prior}
;
            STH    I 0                 ;logic equation O32 = IO*I1+I2+I3*I4*I5
            ANH    I 1
            ORH    I 2
            ORH    I 3
            ANH    I 4
            ANH    I 5
            OUT    O 32
;
;-------------------------------------------------------------------------
;
            STH    I 1                 ;logic equation O33 = (I1*I2+I4)*I3
            ANH    I 2
            ORH    I 4

            OUT    F 0
;
            STH    F 0
            ANH    I 3
            OUT    O 33
;               
;-------------------------------------------------------------------------

                                       ; inverter swich
            STH    I 0                 ;           _                 _
            DYN    F 1                 ; I0    ___¦ ¦_______________¦ ¦_______
            COM    O 34                ;           _________________
                                       ; O 34  ___¦                 ¦_________


;-------------------------------------------------------------------------

;
            STH    I 6                 ; START / STOP with STOP priority
            ANL    I 5                 ;                 _                ________
            SET    O 35                ; START I6    ___¦ ¦______________¦        ¦_____
;                   ;                          _          _
            STH    I 5                 ; STOP  I5    ____________¦ ¦________¦ ¦_________
            RES    O 35                ;                 ________         __   _________
                                       ; O 35        ___¦        ¦_______¦  ¦_¦
;
;-------------------------------------------------------------------------
;
            STH    I 2                 ;Impuls set with a defined time
            DYN    F 2                 ;        _               ___________
            LD     T 4                 ; I2  __¦ ¦_____________¦           ¦_____
                   10                  ;        ____            ____
                                       ; T4  __¦ 1s ¦__________¦ 1s ¦____________
            STH    T 4                 ;        ____            ____
            OUT    O 36                ; O36 __¦ 1s ¦__________¦ 1s ¦____________
;
;-------------------------------------------------------------------------
;
            STH    I 3                 ;Impuls with a set delay and a difined time
            DYN    F 3                 ;        _
            LD     T 2                 ; I3  __¦ ¦_____________________
                   50                  ;        ____________
            LD     T 3                 ; T2  __¦     5s     ¦__________
                   60                  ;        ________________
                                       ; T3  __¦     6s         ¦______
            STH    T 2                 ;                     ___
            XOR    T 3                 ; O37 _______________¦   ¦______
            OUT    O 37

;-------------------------------------------------------------------------
                                       ; Blinker
                                       ;         __    __    __
                                       ; O 38 __¦  ¦__¦  ¦__¦  ¦__

            STL    T 1                 ;If timer = L
            LD     T 1                 ;   load the timer with 1 seconde
                   10
            COM    O 38                ;   invert the output
            
            ECOB                       ; End of cyclic program

;===========================================================================
;===========================================================================
;===========================================================================

